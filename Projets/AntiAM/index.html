<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Anti AutoMod</title>
  <link rel="icon" type="image/webp" href="../../Sources/Images/jerome.webp" />
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Source+Code+Pro:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#000;
      --panel:#0d0d0d;
      --accent:#ff8c00;
      --text:#fff;
      --line:#222;
      --pixel:"Press Start 2P", monospace;
      --mono:"Source Code Pro", monospace;
    }
    *{margin:0;padding:0;box-sizing:border-box}
    body{
      background:var(--bg);
      color:var(--text);
      font-family:var(--mono);
      display:flex;
      flex-direction:column;
      align-items:center;
      padding:20px;
    }
    header{
      display:flex;
      align-items:center;
      gap:15px;
      margin:20px 0 30px;
      width:100%;
      max-width:420px;
    }
    .jerome-logo{
      width:64px;height:64px;border-radius:50%;
      border:none;outline:none;box-shadow:none;
    }
    h1{
      font-family:var(--pixel);
      font-size:14px;
      color:var(--accent);
      text-transform:uppercase;
    }
    main{width:100%;max-width:420px}

    .mosaic{
      position:relative;
      border:1px solid var(--line);
      background:var(--panel);
      padding:14px;
      overflow:hidden;
    }
    .mosaic::before{
      content:attr(data-mosaic);
      position:absolute;
      inset:-40px;
      white-space:pre;
      font-family:var(--pixel);
      font-size:10px;
      line-height:12px;
      letter-spacing:1px;
      color:rgba(255,255,255,.055);
      transform:rotate(-8deg);
      user-select:none;
      pointer-events:none;
    }
    .mosaic::after{
      content:"";
      position:absolute;inset:0;
      background:
        radial-gradient(650px 280px at 20% 10%, rgba(255,140,0,.12), transparent 60%),
        radial-gradient(650px 280px at 90% 90%, rgba(255,140,0,.06), transparent 62%),
        linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.10));
      pointer-events:none;
    }

    .content{position:relative;z-index:1;display:flex;flex-direction:column;gap:14px}
    .card{
      border:1px solid rgba(255,255,255,.10);
      background:rgba(0,0,0,.28);
      padding:14px;
    }
    .title{
      font-family:var(--pixel);
      font-size:11px;
      margin-bottom:10px;
    }
    label{
      font-family:var(--pixel);
      font-size:9px;
      color:rgba(255,255,255,.55);
      text-transform:uppercase;
      letter-spacing:1px;
    }
    textarea{
      width:100%;
      background:#111;
      border:1px solid var(--line);
      padding:12px 10px;
      color:#fff;
      font-family:var(--mono);
      font-size:13px;
      outline:none;
      min-height:120px;
      resize:vertical;
    }
    .row{display:flex;flex-direction:column;gap:7px}
    .btns{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    button{
      border:1px solid var(--line);
      background:var(--accent);
      color:#000;
      padding:12px 12px;
      cursor:pointer;
      font-family:var(--pixel);
      font-size:10px;
      text-transform:uppercase;
    }
    button.secondary{background:#111;color:#fff}
    .range{
      width:100%;
      margin-top:10px;
      display:flex;
      flex-direction:column;
      gap:8px;
    }
    input[type="range"]{width:100%;accent-color:var(--accent)}
    .tiny{
      font-family:var(--pixel);
      font-size:8px;
      color:rgba(255,255,255,.55);
      line-height:1.6;
    }
    .footer{
      width:100%;
      max-width:420px;
      margin-top:14px;
      color:rgba(255,255,255,.35);
      font-family:var(--pixel);
      font-size:8px;
      text-transform:uppercase;
      letter-spacing:1px;
      display:flex;
      justify-content:space-between;
    }
  </style>
</head>

<body>
  <header>
    <a href="../../index.html"><img src="../../Sources/Images/jerome.webp" alt="Logo" class="jerome-logo"></a>
    <h1>Anti AutoMod</h1>
  </header>

  <main>
    <section class="mosaic" id="mosaic" data-mosaic="">
      <div class="content">

        <div class="card">
          <div class="title">TEXT → TEXT (Safe)</div>
          <div class="tiny">Stylisation légère du texte avec variantes Unicode dans le but de contrer la censure automique (peut ne pas fonctionner à 100%).</div>

          <div class="range">
            <label>Intensité :</label>
            <input type="range" id="intensity" min="0" max="100" value="28">
            <div class="tiny" id="intensityLabel">28%</div>
          </div>

          <div class="range">
            <label>Seed :</label>
            <input type="range" id="seed" min="1" max="9999" value="1337">
            <div class="tiny" id="seedLabel">1337</div>
          </div>
        </div>

        <div class="card">
          <div class="row">
            <label>Entrée</label>
            <textarea id="in">Terminé les messages censurés.</textarea>
          </div>
          <div class="btns">
            <button id="gen">CONVERTIR</button>
            <button class="secondary" id="copy">COPIER</button>
          </div>
        </div>

        <div class="card">
          <div class="row">
            <label>Sortie</label>
            <textarea id="out" readonly></textarea>
          </div>
          <div class="tiny">Astuce : 15–30% = très lisible, 40%+ = bien stylé.</div>
        </div>

      </div>
    </section>

    <div class="footer">
      <span>ARCHIVEFEVER.WORK</span>
    </div>
  </main>

  <script>
    const $ = (id)=>document.getElementById(id);

    const els = {
      mosaic: $('mosaic'),
      intensity: $('intensity'),
      intensityLabel: $('intensityLabel'),
      seed: $('seed'),
      seedLabel: $('seedLabel'),
      in: $('in'),
      out: $('out'),
      gen: $('gen'),
      copy: $('copy')
    };

    const MOS_WORDS = ["ARCHIVE","FEVER","JEROME","PIXEL","STATIC","ORANGE","NOISE","ECHO","VOID","SIGNAL","CLEAN","TEXT","CODE","NIGHT"];

    const MAP = {
      a:["a","à","á","â","ä","ɑ","α"],
      b:["b","β","Ь"],
      c:["c","ç","ᴄ","ϲ"],
      d:["d","ԁ"],
      e:["e","è","é","ê","ë","ε"],
      f:["f","ƒ"],
      g:["g","ɡ"],
      h:["h","н","һ"],
      i:["i","ì","í","î","ï","ι"],
      k:["k","κ","к"],
      l:["l","ⅼ","ł"],
      m:["m","м"],
      n:["n","ñ","η"],
      o:["o","ò","ó","ô","ö","ο"],
      p:["p","р","ρ"],
      r:["r","ř","ᴦ"],
      s:["s","ѕ","ʂ"],
      t:["t","τ","ŧ"],
      u:["u","ù","ú","û","ü","υ"],
      v:["v","ν"],
      x:["x","х","χ"],
      y:["y","γ"],
      z:["z","ᴢ"]
    };

    function mulberry32(a){
      return function(){
        let t = a += 0x6D2B79F5;
        t = Math.imul(t ^ (t >>> 15), t | 1);
        t ^= t + Math.imul(t ^ (t >>> 7), t | 61);
        return ((t ^ (t >>> 14)) >>> 0) / 4294967296;
      }
    }

    function makeMosaic(seed){
      const s = String(seed).toUpperCase();
      const pick = (i)=> MOS_WORDS[(i + s.charCodeAt(i % s.length)) % MOS_WORDS.length];
      let lines=[];
      for(let y=0;y<16;y++){
        let line="";
        for(let x=0;x<30;x++){
          const w=pick(x+y*5);
          line+=w[(x+y)%w.length]+" ";
        }
        lines.push(line);
      }
      return lines.join("\n");
    }

    function stylize(text,intensity,seed){
      const rnd = mulberry32(seed>>>0);
      const p = intensity/100;
      let out="";
      for(const ch of text){
        const low=ch.toLowerCase();
        if(MAP[low] && rnd()<p){
          const v=MAP[low];
          const c=v[Math.floor(rnd()*v.length)];
          out += ch===ch.toUpperCase()?c.toUpperCase():c;
        }else{
          out+=ch;
        }
      }
      return out;
    }

    function updateLabels(){
      els.intensityLabel.textContent = els.intensity.value+"%";
      els.seedLabel.textContent = els.seed.value;
    }

    function generate(){
      const seed=parseInt(els.seed.value,10)||1337;
      const intensity=parseInt(els.intensity.value,10)||0;
      els.out.value = stylize(els.in.value,intensity,seed);
      els.mosaic.setAttribute("data-mosaic", makeMosaic(seed));
    }

    async function copyOut(){
      try{
        await navigator.clipboard.writeText(els.out.value);
      }catch(e){
        const ta=document.createElement("textarea");
        ta.value=els.out.value;
        ta.style.position="fixed";
        ta.style.left="-9999px";
        document.body.appendChild(ta);
        ta.select();
        try{document.execCommand("copy");}catch(_){}
        ta.remove();
      }
    }

    els.intensity.addEventListener("input",()=>{updateLabels();generate();});
    els.seed.addEventListener("input",()=>{updateLabels();generate();});
    els.gen.addEventListener("click",generate);
    els.copy.addEventListener("click",copyOut);

    updateLabels();
    generate();
  </script>
</body>
</html>
